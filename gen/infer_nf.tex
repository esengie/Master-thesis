\pagebreak
\subsection{Вывод типов и нормализация}\label{nf_infer}
Сам `infer' работает как описано в Разделе~\ref{typecheck}. Мы последовательно строим каждую предпосылку и вызываем функцию вывода типов или проверки типа выражения на равенство типу. Выражения, которые мы передаем в эти функции, строим последовательно, на основе переданных нам в конструкции в заключении, или полученных при вызове функции вывода типов (подробнее об этом ниже).

Внутри кодогенерации функций `nf' и `infer' мы должны уметь строить выражения языка, который мы проверяем/редуцируем. В функции infer это связано с тем, что при проверке предпосылок и возврате типа конструкции мы должны уметь строить произвольные выражения специфицированного языка. В функции `nf' это связано с тем, что правая часть редукции может содержать произвольные выражения языка.

\input{gen/exInfer}
\input{gen/exNf}
